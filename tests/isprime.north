1729  ;the test candidate

dup 2 == if
    print 1 print 0 exit
endif

dup 3 == if
    print 1 print 0 exit
endif

dup 1 <= if
    print 0 print 0 exit
endif

dup 2 % 0 == if
    print 0 print 0 exit
endif

dup 3 % 0 == if
    print 0 print 0 exit
endif

5 while 2dup dup * swap <= do 
  2dup % 0 == if 
    swap print 0 print 0 exit
  endif
  2dup 2 + % 0 == if
    swap print 0 print 0 exit
  endif
  6 +
done

over print 1 print 0 exit


; copied from this implementation in C
;
;bool IsPrime(int n)
;{
;    if (n == 2 || n == 3)
;        return true;
;
;    if (n <= 1 || n % 2 == 0 || n % 3 == 0)
;        return false;
;
;    int i = 5;
;    while(i * i <= n) {
;        if ((n % i == 0)) {
;            return false;
;        }
;
;        if ((n % (i + 2) == 0)) {
;            return false;
;        }
;        i +=6;
;    }
;
;    return true;
;}
